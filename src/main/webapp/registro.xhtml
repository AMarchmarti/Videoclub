<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Usuarios</title>
    <h:outputStylesheet library="css" name="style.css"/>

</h:head>
<h:body>
    <div class="container">
        <h:form styleClass="text-center border border-light p-5" id="registro">

            <!--        <p:growl id="messages" showDetail="true">-->
            <!--            <p:autoUpdate disabled="true"/>-->
            <!--        </p:message>-->

            <p:fieldset legend="Datos Personales">
                <div class="form-row mb-4">
                    <div class="row">
                        <div class="col-md-4">
                            <p:inputText id="txtDNI" value="#{usuariosController.persona.dni}" required="true"
                                         placeholder="DNI"
                                         requiredMessage="Se requiere valor" styleClass="form-control">
                                <f:validateRegex pattern="^[0-9]{8}[^IÑOU]"/>
                            </p:inputText>
                            <p:message for="txtDNI"/>
                        </div>

                        <div class="col-md-4">
                            <p:inputText id="txtNombre" value="#{usuariosController.persona.nombre}" required="true"
                                         requiredMessage="Se requiere valor" placeholder="Nombre"
                                         styleClass="form-control"/>
                            <p:message for="txtNombre"/>
                        </div>

                        <div class="col-md-4">
                            <p:inputText id="txtApellidos" value="#{usuariosController.persona.apellidos}"
                                         required="true"
                                         requiredMessage="Se requiere valor" placeholder="Apellidos"
                                         styleClass="form-control"/>
                            <p:message for="txtApellidos"/>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <p:inputText id="txtTelefono" value="#{usuariosController.persona.telefono}" required="true"
                                         placeholder="Telefono" styleClass="form-control"
                                         requiredMessage="Se requiere valor"/>
                            <p:message for="txtTelefono"/>
                        </div>


                        <div class="col-md-6">
                            <p:inputText id="txtEmail" styleClass="form-control mb-4" placeholder="E-mail"
                                         value="#{usuariosController.persona.email}" required="true"/>
                            <p:message for="txtEmail"/>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <p:outputLabel for="Sexo" value="Sexo"/>
                            <p:selectOneRadio id="Sexo" value="#{usuariosController.persona.sexo}" unselectable="true"
                                              required="true">
                                <f:selectItem itemValue="M" itemLabel="MASCULINO"/>
                                <f:selectItem itemValue="F" itemLabel="FEMENINO"/>
                            </p:selectOneRadio>
                            <p:message for="Sexo"/>
                        </div>
                        <div class="col-md-6">
                            <p:outputLabel for="txtFecha" value="Fec Nacimiento"/>
                            <p:calendar id="txtFecha" value="#{usuariosController.persona.fechaNacimiento}" locale="es"
                                        required="true"/>
                            <p:message for="txtFecha"/>
                        </div>
                    </div>
                </div>

            </p:fieldset>

            <p:fieldset legend="Datos de la cuenta">
                <div class="form-row">

                    <div class="col-md-6">
                        <p:inputText id="cboTipo" value="#{usuariosController.codigo.codigo}" styleClass="form-control"
                                     placeholder="Inserte su código promocional"/>
                        <p:message for="cboTipo"/>
                    </div>

                    <div class="col-md-6">

                        <p:inputText id="txtUser" value="#{usuariosController.usuario.usuario}" required="true"
                                     requiredMessage="Campo Requerido" placeholder="Usuario" styleClass="form-control"/>
                        <p:message for="txtUser"/>
                    </div>

                    <div class="col-md-6">
                        <p:password id="con1" value="#{usuariosController.contraseña}" required="true" match="con2"
                                    feedback="true" promptLabel="Ingrese una contraseña"
                                    requiredMessage="Campo Requerido"
                                    validatorMessage="Las contraseñas no coinciden" weakLabel="Débil"
                                    strongLabel="Fuerte"
                                    goodLabel="Bueno" placeholder="Contraseña" styleClass="form-control"/>
                        <p:message for="con1"/>
                    </div>
                    <div class="col-md-6">
                        <p:password id="con2" required="true" requiredMessage="Campo Requerido"
                                    styleClass="form-control"
                                    placeholder="Repetir Contraseña"/>
                        <p:message for="con2"/>
                    </div>
                </div>
            </p:fieldset>
            <p:growl severity="info, fatal" showDetail="true">
                <p:autoUpdate disabled="false"/>
            </p:growl>
            <p:commandButton value="Registrar" icon="ui-icon-check" styleClass="btn btn-success my-4"
                             actionListener="#{usuariosController.registrar()}" />
            <p:button value="Volver" styleClass="btn btn-outline-info btn-rounded my-4 waves-effect z-depth-0"
                      outcome="/index?faces-redirect=true"/>
        </h:form>
    </div>


    <h:outputScript library="js" name="SpanishLocale.js"/>
</h:body>

</html>
